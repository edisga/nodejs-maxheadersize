<html>
<head>
    <meta charset="utf-8">
    <title>Getting Numbers</title>
</head>
<body>
    <div>Request numbers: <button onclick="myFunction()">GET</button></div>
    <hr/>
    <div id="result">Result: </div>
    <script>
        function myFunction() {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '/headers');
                xhr.setRequestHeader(
                        'x-header-numbers',
                        Array.apply(null, { length: 8100 })
                        .map(function() {
                            return Math.ceil(Math.random() * 9);
                        })
                        .join('')
                );
                xhr.send();
                xhr.onload = function () {
                    document.getElementById('result').innerHTML = 'Result: '+ xhr.status + ' ' 
                    + xhr.statusText  + ' '+ xhr.responseText;
                };
                xhr.onerror = function () {
                    document.getElementById('result').innerHTML = 'Result: Request has failed';
                };
            }
    </script>
</body>
</html>
